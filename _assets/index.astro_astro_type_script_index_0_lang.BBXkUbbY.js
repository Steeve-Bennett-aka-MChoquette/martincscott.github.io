import{s as o}from"./supabase.BS4DBzj2.js";import{s as n}from"./secure.BSuUd7fU.js";import"./preload-helper.BlTxHScW.js";const r="fr",a=(n[r]||n.en).secure;async function c(){try{const{data:e,error:s}=await o.auth.getUser();if(s||!e?.user){window.location.href=`/${r}/auth/login`;return}document.getElementById("user-email").textContent=e.user.email,document.getElementById("user-info").classList.remove("hidden"),document.getElementById("loading").classList.add("hidden"),document.getElementById("logout-button").addEventListener("click",async()=>{try{const{error:t}=await o.auth.signOut();if(t)throw t;window.location.href=`/${r}/auth/login`}catch(t){alert(`${a.logoutError}: ${t.message}`)}})}catch(e){console.error("Auth check error:",e),alert(`${a.authError}: ${e.message}`)}}c();
