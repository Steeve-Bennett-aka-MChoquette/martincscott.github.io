import{s as o}from"./supabase.CFP10mF2.js";const s={secure:{title:"Secure Dashboard",welcome:"Welcome",logout:"Logout",loading:"Loading...",authError:"Authentication error",logoutError:"Error logging out"}},u={secure:{title:"Tableau de bord sécurisé",welcome:"Bienvenue",logout:"Se déconnecter",loading:"Chargement...",authError:"Erreur d'authentification",logoutError:"Erreur lors de la déconnexion"}},n={en:s,fr:u},t="fr",a=(n[t]||n.en).secure;async function i(){try{const{data:e,error:c}=await o.auth.getUser();if(c||!e?.user){window.location.href=`/${t}/auth/login`;return}document.getElementById("user-email").textContent=e.user.email,document.getElementById("user-info").classList.remove("hidden"),document.getElementById("loading").classList.add("hidden"),document.getElementById("logout-button").addEventListener("click",async()=>{try{const{error:r}=await o.auth.signOut();if(r)throw r;window.location.href=`/${t}/auth/login`}catch(r){alert(`${a.logoutError}: ${r.message}`)}})}catch(e){console.error("Auth check error:",e),alert(`${a.authError}: ${e.message}`)}}i();
