import{s as o}from"./supabase.D0xgT4d4.js";import{l as s}from"./i18n.7cFgBMA4.js";const r="fr",a=await s("secure",r);async function c(){try{const{data:t,error:n}=await o.auth.getUser();if(n||!t?.user){window.location.href=`/${r}/auth/login`;return}document.getElementById("user-email").textContent=t.user.email,document.getElementById("user-info").classList.remove("hidden"),document.getElementById("loading").classList.add("hidden"),document.getElementById("logout-button").addEventListener("click",async()=>{try{const{error:e}=await o.auth.signOut();if(e)throw e;window.location.href=`/${r}/auth/login`}catch(e){alert(`${a.logoutError}: ${e.message}`)}})}catch(t){console.error("Auth check error:",t),alert(`${a.authError}: ${t.message}`)}}c();
