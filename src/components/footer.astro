---
// Get current locale from URL
const { pathname } = Astro.url;
const currentPathSegments = pathname.split('/').filter(Boolean);
const currentLocale = currentPathSegments[0] || 'fr';

// Import translations
let translations;
try {
  translations = await import(`../i18n/${currentLocale}.json`);
} catch (error) {
  console.error(`Failed to load translations for ${currentLocale}`, error);
  // Fallback to default locale
  translations = await import(`../i18n/fr.json`);
}
---

<footer class="my-20 pb-12 bg-transparent">
  <p class="text-center text-sm text-slate-500">
    Copyright Â© {new Date().getFullYear()} Martin C-Scott. {translations.default.footer.rights}
  </p>

  <p class="text-center text-xs text-slate-800 mt-1">
    Made by 
    <a
      href="https://github.com/Steeve-Bennett-aka-MChoquette/martincscott.github.io"
      target="_blank"
      rel="noopener"
      class="hover:underline">
      Martin
    </a>
  </p>
</footer>
